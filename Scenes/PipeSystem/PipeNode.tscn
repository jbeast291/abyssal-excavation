[gd_scene load_steps=8 format=3 uid="uid://3e7qcikegg3y"]

[ext_resource type="Script" uid="uid://ukfyjj5wgwk3" path="res://assets/scripts/PipeSystem/PipeNode.gd" id="1_rrvh8"]
[ext_resource type="Script" uid="uid://cuml4q40hqd6r" path="res://assets/scripts/StateMachineGeneric/StateMachine.gd" id="2_y4a32"]
[ext_resource type="Script" uid="uid://c6r454d1dhe3c" path="res://assets/scripts/PipeSystem/PlacementState.gd" id="3_atwue"]
[ext_resource type="Script" uid="uid://8e4nqn3vlo3p" path="res://assets/scripts/StateMachineGeneric/State.gd" id="4_atwue"]

[sub_resource type="Gradient" id="Gradient_l6n3p"]
offsets = PackedFloat32Array(1)
colors = PackedColorArray(1, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_6jllv"]
gradient = SubResource("Gradient_l6n3p")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_y4a32"]
size = Vector2(6, 6)

[node name="PipeNode" type="Area2D"]
script = ExtResource("1_rrvh8")

[node name="PipeStateManager" type="Node" parent="." node_paths=PackedStringArray("initial_state")]
unique_name_in_owner = true
script = ExtResource("2_y4a32")
initial_state = NodePath("Placement")

[node name="Placement" type="Node" parent="PipeStateManager"]
unique_name_in_owner = true
script = ExtResource("3_atwue")

[node name="Idle" type="Node" parent="PipeStateManager"]
script = ExtResource("4_atwue")
metadata/_custom_type_script = "uid://8e4nqn3vlo3p"

[node name="Sprite2D" type="Sprite2D" parent="."]
unique_name_in_owner = true
position = Vector2(1.9073486e-06, 0)
scale = Vector2(0.0234375, 6.0000005)
texture = SubResource("GradientTexture1D_6jllv")

[node name="MainCollider" type="CollisionShape2D" parent="."]
unique_name_in_owner = true
shape = SubResource("RectangleShape2D_y4a32")

[connection signal="body_entered" from="." to="PipeStateManager/Placement" method="_on_pipe_node_body_entered"]
[connection signal="body_exited" from="." to="PipeStateManager/Placement" method="_on_pipe_node_body_exited"]
